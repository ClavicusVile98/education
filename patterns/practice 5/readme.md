Лабораторная работа 5

## 1. Найдите в коде паттерн Фабричный метод (Factory Method) и объясните для чего он был применён.

**src/Service/Order/Basket.php**
В функции *getProductsInfo* обращаемся к методу *getProductRepository*, в котором создается новый объект класса Model/Repository/Product, а затем обращаемся к методу *search* для поиска продуктов по идентификатору.

**src/Service/Product/Product.php**
В функциях *getAll* и *getInfo* обращаемся к методу *getProductRepository*, в котором создается новый объект класса Model/Repository/Product, а затем обращаемся к методу *search* для поиска продуктов по идентификатору (в *getAll* обращаемся к методу *fetchAll* для получения списка всех продуктов).

**src/Service/User/Security.php**
В функциях *authentication* и *isAdminRole* обращаемся к методу *getUserRepository*, в котором создается новый объект класса Model\Repository\User, а затем обращаемся к методу *getByLogin* для получения сущности пользователя (в *isAdminRole* обращаемся к методу *isAdmin* для проверки роли пользователя).

Происходит делегирование части обязанностей класса Model/Repository/Product классу Basket. С остальными классами так же.

Вообще, как я поняла из кода, то фабрику стоит использовать в методах классов тогда, когда нужно обратиться к нескольким методам другого класса. Как вот на этом скриншоте.

![authentication.png](authentication)

Вот здесь не используем фабрику, потому как в этом нет необходимости.

![getuser.png](getuser)

По такой логике получается, что в этой части кода использовать фабричный метод было необязательно.

![isadminrole.png](isadminrole)

